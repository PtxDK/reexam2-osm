% Document class: article with font size 11pt
% ---------------
\documentclass[11pt,a4paper]{article}

\setlength{\textwidth}{165mm}
\setlength{\textheight}{240mm}
\setlength{\parindent}{0mm} % S{\aa} meget rykkes ind efter afsnit
\setlength{\parskip}{\baselineskip}
\setlength{\headheight}{0mm}
\setlength{\headsep}{0mm}
\setlength{\hoffset}{-2.5mm}
\setlength{\voffset}{0mm}
\setlength{\footskip}{15mm}
\setlength{\oddsidemargin}{0mm}
\setlength{\topmargin}{0mm}
\setlength{\evensidemargin}{0mm}

\usepackage[a4paper, hmargin={2.8cm, 2.8cm}, vmargin={2.5cm, 2.5cm}]{geometry}
\usepackage[super]{nth}
\PassOptionsToPackage{hyphens}{url}\usepackage{hyperref}
\usepackage{eso-pic} % \AddToShipoutPicture
\usepackage{float} % This will allow precise picture placement, use [H].
\usepackage{listings}
\usepackage{color}
\usepackage[titletoc,title]{appendix}

% BEGIN REDESIGN OF LSTLISTING:
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}

\lstset{style=mystyle}
% END REDESIGN OF LSTLISTING


% Call packages
% ---------------
\usepackage{comment} %Possible to comment larger sections
%http://get-software.net/macros/latex/contrib/comment/comment.pdf
\usepackage[T1]{fontenc} %oriented to output, that is, what fonts to use for printing characters.
\usepackage[utf8]{inputenc} %allows the user to input accented characters directly from the keyboard

%Support Windows TeXStudio
\usepackage[T1]{fontenc}
\usepackage{lmodern}

%http://mirrors.dotsrc.org/ctan/fonts/fourier-GUT/doc/latex/fourier/fourier-doc-en.pdf
\usepackage[english]{babel}														     % Danish
\usepackage[protrusion=true,expansion=true]{microtype}				                 % Better typography
%http://www.khirevich.com/latex/microtype/
\usepackage{amsmath,amsfonts,amsthm, amssymb}							 % Math packages
\usepackage[pdftex]{graphicx} %puts to pdf and graphic
%http://www.kwasan.kyoto-u.ac.jp/solarb6/usinggraphicx.pdf
\usepackage{xcolor,colortbl}
%http://mirrors.dotsrc.org/ctan/macros/latex/contrib/xcolor/xcolor.pdf
%http://texdoc.net/texmf-dist/doc/latex/colortbl/colortbl.pdf
\usepackage{tikz} %documentation http://www.ctan.org/pkg/pgf
\usepackage{parskip} %http://www.ctan.org/pkg/parskip
%http://tex.stackexchange.com/questions/51722/how-to-properly-code-a-tex-file-or-at-least-avoid-badness-10000
%Never use \\ but instead press "enter" twice. See second website for more info

% MATH -------------------------------------------------------------------
\newcommand{\Real}{\mathbb R}
\newcommand{\Complex}{\mathbb C}
\newcommand{\Field}{\mathbb F}
\newcommand{\RPlus}{[0,\infty)}
%
\newcommand{\norm}[1]{\left\Vert#1\right\Vert}
\newcommand{\essnorm}[1]{\norm{#1}_{\text{\rm\normalshape ess}}}
\newcommand{\abs}[1]{\left\vert#1\right\vert}
\newcommand{\set}[1]{\left\{#1\right\}}
\newcommand{\seq}[1]{\left<#1\right>}
\newcommand{\eps}{\varepsilon}
\newcommand{\To}{\longrightarrow}
\newcommand{\RE}{\operatorname{Re}}
\newcommand{\IM}{\operatorname{Im}}
\newcommand{\Poly}{{\cal{P}}(E)}
\newcommand{\EssD}{{\cal{D}}}
% THEOREMS ----------------------------------------------------------------
\theoremstyle{plain}
\newtheorem{thm}{Theorem}[section]
\newtheorem{cor}[thm]{Corollary}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{prop}[thm]{Proposition}
%
\theoremstyle{definition}
\newtheorem{defn}{Definition}[section]
%
\theoremstyle{remark}
\newtheorem{rem}{Remark}[section]
%
\numberwithin{equation}{section}
\renewcommand{\theequation}{\thesection.\arabic{equation}}


\author{
  \Large{
    Brandt, Patrick Kr√∏ll - bwx155} \\
   \\
   %\Large{ }
}
\title{
  \huge{OSM 2016 \\}
  \Large{Operating Systems and Multiprogramming \\}
  \vspace{3cm}
  \Large{Take-Home Examination}
}

\begin{document}

\AddToShipoutPicture*{\put(0,0){\includegraphics*[viewport=0 0 700 600]{include/natbio-farve}}}
\AddToShipoutPicture*{\put(0,602){\includegraphics*[viewport=0 600 700 1600]{include/natbio-farve}}}

\AddToShipoutPicture*{\put(0,0){\includegraphics*{include/nat-en}}}

\clearpage\maketitle
\thispagestyle{empty}
\clearpage\newpage
\thispagestyle{plain}

%\tableofcontents
%\pagebreak

%<<--------------------------------------------------------------->>
\subsection*{Introduction}




%<<--------------------------------------------------------------->>
\subsection*{Theoretical 1: Merge Semaphores}

An explanation was not asked for, therefore only a short one has been provided.

\begin{lstlisting}[caption={Pseudo Code},label={lst:merge-sem}]
typedef struct merge_sem_t {
    int value;
    int thread_check;
    pthread_cond_t cond;
    pthread_mutex_t lock;
} merge_sem_t;

// Only one thread can call this
void merge_sem_init(merge_sem_t *s, int value) {
    s->value = value;
    Cond_init(&s->cond);
    Mutex_init(&s->lock);
    value = 0;
    thread_check = 0;
}

void merge_sem_P1(merge_sem_t *s) {
    Mutex_lock(&s->lock);
    while (s->value <= 0 && thread_check = 0)
        Cond_wait(&s->cond, &s->lock);
        s->value--;
        Mutex_unlock(&s->lock);
    thread_check = 1;
}

void merge_sem_P2(merge_sem_t *s) {
    Mutex_lock(&s->lock);
    while (s->value <= 0 && thread_check = 1)
        Cond_wait(&s->cond, &s->lock);
        s->value--;
        Mutex_unlock(&s->lock);
    thread_check = 0;
}
\end{lstlisting}

The notation of Chapter 31 in OSTEP has been followed after best ability, [\ref{lst:merge-sem}] shows nearly the exact same as seen in OSTEP\footnote{http://pages.cs.wisc.edu/~remzi/OSTEP/threads-sema.pdf} Figure 31.16 [Version 0.91] which almost supports the requirements for this task. merge\_sem\_t, merge\_sem\_init, merge\_sem\_P1 and merge\_sem\_P2 where only a slight modification has been made by adding thread\_check, which purpose is to ensure the constant switch between the two threads.


\subsection*{Theoretical 2: Simulating MLFQ}


Since I have fallen out of the system multiple time during OSM, there is no exam number available to me on kunet, i have therefore chosen to use the number 42 as my exam-number in this task. Input for the program should be given in a file named \textbf{mlfq\_input.txt}

\subsection*{Theoretical 3: Simulating Buddy Allocation}

...


\subsection*{Practical 1}

.


\subsubsection*{About the Code}

..


\subsubsection*{Testing}

...

\subsection*{Practical 2: Read-Write Locks}


\subsubsection*{Progression}



\subsubsection*{Testing}





\subsection*{Appendix}



%\newpage
%\bibliography{mybib}
%\bibliographystyle{ieeetr}
\end{document}
